const Discord = require("discord.js");
const ytdl = require("ytdl-core");
const { Client, Util } = require('discord.js');
const getYoutubeID = require('get-youtube-id');
const fetchVideoInfo = require('youtube-info');
const YouTube = require('simple-youtube-api');
const youtube = new YouTube("AIzaSyAdORXg7UZUo7sePv97JyoDqtQVi3Ll0b8");
const queue = new Map();
var Canvas = require('canvas-prebuilt');
var jimp = require('jimp');
const fs = require("fs");
const client = new Discord.Client();


client.on('ready',  () => {
  console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~');
  console.log('by Thomas');
  console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~');
  console.log(`Logged in as  * [ " ${client.user.username} " ] servers! [ " ${client.guilds.size} " ]`);
  console.log('~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~');
  console.log('is online')
});

const prefix = "!"

//-----------------------------------------------------------------------------------------------------//
                                                 //ÙƒÙˆØ¯ Ø§Ù„Ù‡Ù„Ø¨//
//-----------------------------------------------------------------------------------------------------//

  client.on('message', message => {//help msg
  if (message.author.bot) return;
   if (message.content === prefix + "help") {
      message.react("â˜‘") 
   
      message.author.sendMessage(`**Ø´ÙƒØ±Ø§ Ù„Ùƒ Ù„Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ø§Ù„Ø¨ÙˆØª**

      __**Ø§Ù„Ø§ÙˆØ§Ù…Ø± Ø§Ù„Ø§Ø¯Ø§Ø±ÙŠØ© :gear:**__

â–${prefix}** bc ** ==>**Ù„Ø§Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ù„ÙƒÙ„ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡**
â–${prefix}** kick ** ==>**Ù„Ø·Ø±Ø¯ Ø´Ø®Øµ Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ±**
â–${prefix}** ban ** ==>**Ù„Ø­ØµØ± Ø´Ø®Øµ Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ±**
â–${prefix}** mute ** ==>**Ù„Ø§Ø³ÙƒØ§Øª Ø¹Ø¶Ùˆ ÙÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ±**
â–${prefix}** unmute ** ==>**Ù„ÙÙƒ Ø§Ù„Ø§Ø³ÙƒØ§Øª Ø¹Ù† Ø¹Ø¶Ùˆ ÙÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ±**
â–${prefix}** mutechannel ** ==>**Ù„Ø¥ÙŠÙ‚Ø§Ù Ø´Ø§Øª Ø§Ù„Ø±ÙˆÙ…**
â–${prefix}** unmutechannel ** ==>**Ù„ÙÙƒ Ø¥ÙŠÙ‚Ø§Ù Ø´Ø§Øª Ø§Ù„Ø±ÙˆÙ…**
â–${prefix}** clear ** ==>**Ù„Ù…Ø³Ø­ ÙƒÙ„ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø´Ø§Øª**
      __**Ø§Ù„Ø§ÙˆØ§Ù…Ø± Ø§Ù„Ø¹Ø§Ù…Ø© :coffee:**__
â–${prefix}** color ** ==>**Ù„ØªØºÙŠÙŠØ± Ù„ÙˆÙ†Ùƒ**


`);

}
});

//-----------------------------------------------------------------------------------------------------//
                                             //ÙƒÙˆØ¯ Ø¨Ø±ÙˆØ¯ ÙƒØ§Ø³Øª//
//-----------------------------------------------------------------------------------------------------//

client.on('message', message => {
   let embed = new Discord.RichEmbed()

    let args = message.content.split(' ').slice(1).join(' ');
     if(!message.channel.guild) return;
if(message.content.split(' ')[0] == '{prefix}bc') {
         message.react("âœ”ï¸")
          let embed = new Discord.RichEmbed()
    .setColor("#FF00FF")
    .setThumbnail(message.author.avatarURL)   
                                      .addField('ØªÙ… Ø§Ù„Ø§Ø±Ø³Ø§Ù„ Ø¨ÙˆØ§Ø³Ø·Ø© :', "<@" + message.author.id + ">")
                 message.channel.sendEmbed(embed);
        message.guild.members.forEach(m => {
            var bc = new Discord.RichEmbed()
.addField('**â— Sender  :**', `*** â†’ ${message.author.username}#${message.author.discriminator}***`)
            .addField('***â— Server  :***', `*** â†’ ${message.guild.name}***`)               
    .setColor('#ff0000')
                 .addField('Ù‘', args)
            m.send(``,{embed: bc});
        });
    }
})

//-----------------------------------------------------------------------------------------------------//
                                               //ÙƒÙˆØ¯ Ø§Ù„ØªØ±Ø­ÙŠØ¨//
//-----------------------------------------------------------------------------------------------------//

         client.on('guildMemberAdd', member => {
      const welcomer =  member.guild.channels.find('name', 'welcome');//Ø§Ø³Ù… Ø§Ù„Ø±ÙˆÙ… Ø§Ù„ÙŠ ÙŠØ±Ø­Ø¨ ÙÙŠÙ‡

      var Canvas = require('canvas')
      var jimp = require('jimp')

      const w = ['./img/w1.png',
      './img/w2.png',
      './img/w3.png',
      './img/w4.png',
      './img/w5.png',
      './img/w7.png',
      './img/w8.png'];

              let Image = Canvas.Image,
                  canvas = new Canvas(401, 202),
                  ctx = canvas.getContext('2d');
              ctx.patternQuality = 'bilinear';
              ctx.filter = 'bilinear';
              ctx.antialias = 'subpixel';
              ctx.shadowColor = 'rgba(0, 0, 0, 0.4)';
              ctx.shadowOffsetY = 2;
              ctx.shadowBlur = 2;
              fs.readFile(`${w[Math.floor(Math.random() * w.length)]}`, function (err, Background) {
                  if (err) return console.log(err)
                  let BG = Canvas.Image;
                  let ground = new Image;
                  ground.src = Background;
                  ctx.drawImage(ground, 0, 0, 401, 202);

      })

                      let url = member.user.displayAvatarURL.endsWith(".webp") ? member.user.displayAvatarURL.slice(5, -20) + ".gif" : member.user.displayAvatarURL;
                      jimp.read(url, (err, ava) => {
                          if (err) return console.log(err);
                          ava.getBuffer(jimp.MIME_PNG, (err, buf) => {
                              if (err) return console.log(err);

                              
                              let Avatar = Canvas.Image;
                              let ava = new Avatar;
                              ava.src = buf;
                              ctx.drawImage(ava, 152, 27, 95, 95);

                                                      //wl
                              ctx.font = '20px Arial Bold';
                              ctx.fontSize = '15px';
                              ctx.fillStyle = "#FFFFFF";
                              ctx.textAlign = "center";
                                                         ctx.fillText(member.user.username, 200, 154);

                              //NAME
                              ctx.font = '20px Arial';
                              ctx.fontSize = '28px';
                              ctx.fillStyle = "#FFFFFF";
                              ctx.textAlign = "center";
                                    ctx.fillText(`Ø§Ù†Øª Ø§Ù„Ø¹Ø¶Ùˆ Ø±Ù‚Ù…${member.guild.memberCount} `
                              , 200, 190);

 welcomer.sendFile(canvas.toBuffer())



      })
      })
      });
	  
//-----------------------------------------------------------------------------------------------------//
                                                 //ÙƒÙˆØ¯ Ø§Ù„Ù„ÙˆÙ‚//
//-----------------------------------------------------------------------------------------------------//
client.on('messageDelete', message => {
    if (!message || !message.id || !message.content || !message.guild || message.author.bot) return;
    const channel = message.guild.channels.find('name', 'log');
    if (!channel) return;
    
    let embed = new Discord.RichEmbed()
       .setAuthor(`${message.author.tag}`, message.author.avatarURL)
       .setColor('BLACK')
       .setDescription(`ğŸ—‘ï¸ **Ø­Ø°Ù Ø±Ø³Ø§Ù„Ù‡**
**Ø§Ø±Ø³Ù„Ù‡Ø§ <@${message.author.id}>                                                                                                                        ØªÙ… Ø­Ø°ÙÙ‡Ø§ ÙÙŠ Ø´Ø§Øª** <#${message.channel.id}>\n\n \`${message.cleanContent}\``)
       .setTimestamp();
     channel.send({embed:embed});

});

//-----------------------------------------------------------------------------------------------------//
                                           //ÙƒÙˆØ¯ Ù…Ø³Ø­ Ø§Ù„Ø´Ø§Øª//
//-----------------------------------------------------------------------------------------------------//

client.on('message', function(message) {
    if (message.content == prefix + "clear") {
        if (message.member.hasPermission("MANAGE_MESSAGES")) {
            message.channel.fetchMessages()
               .then(function(list){
                    message.channel.bulkDelete(list);
                }, function(err){message.channel.send("ERROR: ERROR CLEARING CHANNEL.")})
        }
    }

});
 
//-----------------------------------------------------------------------------------------------------//
                                                  //ÙƒÙˆØ¯ Ø±ÙŠØ³ØªØ§Ø±Øª//
//-----------------------------------------------------------------------------------------------------//

  client.on('message',async message => {
    if(message.content.startsWith(prefix + "restart")) {
        if(message.author.id !== "347744493182648321") return message.reply('You aren\'t the bot owner.');
        message.channel.send('**Restarting.**').then(msg => {
            setTimeout(() => {
               msg.edit('**Restarting..**');
            },1000);
            setTimeout(() => {
               msg.edit('**Restarting...**');
            },2000);
        });
        console.log(`${message.author.tag} [ ${message.author.id} ] has restarted the bot.`);
        console.log(`Restarting..`);
        setTimeout(() => {
            client.destroy();
            client.login('NDk1MDI0ODIxNTYyNzY5NDE5.Do8Dkg.ISLHnBVHO-wqBjOsr2o8wHX5mcs'); // token here
        },3000);
    }
});

//-----------------------------------------------------------------------------------------------------//
                                              //ÙƒÙˆØ¯ Ø§Ù„Ø­Ø§Ù„Ø©//
//-----------------------------------------------------------------------------------------------------//

client.on('ready', function(){
    var ms = 10000 ;
    var setGame = [`{prefix}help ${client.users.size} Users`];
    var i = -1;
    var j = 0;
    setInterval(function (){
        if( i == -1 ){
            j = 1;
        }
        if( i == (setGame.length)-1 ){
            j = -1;
        }
        i = i+j;
        client.user.setGame(setGame[i],`http://www.twitch.tv/KiNg66S`);
    }, ms);

});

//-----------------------------------------------------------------------------------------------------//
                                         //ÙƒÙˆØ¯ ÙØªØ­ Ùˆ Ø§Ù‚ÙØ§Ù„ Ø§Ù„Ø´Ø§Øª//
//-----------------------------------------------------------------------------------------------------//

client.on('message', message => {


if (message.content === prefix + "mutechannel") {
if(!message.member.hasPermission('MANAGE_MESSAGES')) return message.reply('**You donâ€™t have `Manage Messages` permissions**');
           message.channel.overwritePermissions(message.guild.id, {
         SEND_MESSAGES: false

           }).then(() => {
               message.reply("Channel Muted âœ… ")
           });
}
  if (message.content === prefix + "unmutechannel") {
if(!message.member.hasPermission('MANAGE_MESSAGES')) return message.reply('**You donâ€™t have `Manage Messages` permissions**');
           message.channel.overwritePermissions(message.guild.id, {
         SEND_MESSAGES: true

           }).then(() => {
               message.reply("Channel UnMuted âœ… ")
           });
}
  

});

//-----------------------------------------------------------------------------------------------------//
                                                //ÙƒÙˆØ¯ Ø§Ù„Ø¯Ø¹Ù…//
//-----------------------------------------------------------------------------------------------------//

var prefix_2 = "-"
client.on("message", (message) => {
    
    if (isCommand(message, "new")) {
        const reason = message.content.split(" ").slice(1).join(" ");
        if (!message.guild.roles.exists("name", "â—âŒ  Staff âŒ¡â—")) return message.channel.send(`This server doesn't have a \`Support Team\` role made, so the ticket won't be opened.\nIf you are an administrator, make one with that name exactly and give it to users that should be able to see tickets.`);
        if (message.guild.channels.exists("name", "ticket-" + message.author.id)) return message.channel.send(`You already have a ticket open.`);
        message.guild.createChannel(`ticket-${message.author.id}`, "text").then(c => {
            let role = message.guild.roles.find("name", "â—âŒ  Staff âŒ¡â—");
            let role2 = message.guild.roles.find("name", "@everyone");
            c.overwritePermissions(role, {
                SEND_MESSAGES: true,
                READ_MESSAGES: true
            });
            c.overwritePermissions(role2, {
                SEND_MESSAGES: false,
                READ_MESSAGES: false
            });
            c.overwritePermissions(message.author, {
                SEND_MESSAGES: true,
                READ_MESSAGES: true
            });
            message.channel.send(`:white_check_mark: Your ticket has been created, #${c.name}.`);
            const embed = new Discord.RichEmbed()
                .setColor(0xCF40FA)
                .addField(`Hey ${message.author.username}!`, `Please try explain why you opened this ticket with as much detail as possible. Our **Support Staff** will be here soon to help.`)
                .setTimestamp();
            c.send({
                embed: embed
            });
        }).catch(console.error); 
    }


    if (isCommand(message, "close")) {
        if (!message.channel.name.startsWith(`ticket-`)) return message.channel.send(`You can't use the close command outside of a ticket channel.`);

        message.channel.send(`Are you sure? Once confirmed, you cannot reverse this action!\nTo confirm, type \`c\`. This will time out in 10 seconds and be cancelled.`)
            .then((m) => {
                message.channel.awaitMessages(response => response.content === 'c', {
                        max: 1,
                        time: 10000,
                        errors: ['time'],
                    })
                    .then((collected) => {
                        message.channel.delete();
                    })
                    .catch(() => {
                        m.edit('Ticket close timed out, the ticket was not closed.').then(m2 => {
                            m2.delete();
                        }, 3000);
                    });
            });
    }

});

//-----------------------------------------------------------------------------------------------------//
                                            //ÙƒÙˆØ¯ Ø±ÙˆÙ… Ù…Ø¤Ù‚Øª//
//-----------------------------------------------------------------------------------------------------//

isCommand=(message, input)=>{
var args = message.content.slice(prefix_2.length).trim().split(/ +/g),
command = args.shift().toLowerCase();
if(command == input) return true;
else return false;
}

   client.on('voiceStateUpdate', (codes, ReBeL) => {
if(ReBeL.voiceChannelID !== "495381315508502528") return console.log("Ø£ÙŠØ±ÙˆØ± . ");
ReBeL.guild.createChannel(ReBeL.user.username , 'voice').then((rebeeel) =>{
    rebeeel.setParent("495381202354569226");
ReBeL.guild.members.get(ReBeL.id).setVoiceChannel(rebeeel.id).then((codess) =>{
  console.log("ØªÙ€Ù€Ù€Ù€Ù€Ù€Ù… .");
  let scan = setInterval(()=>{
if(!ReBeL.voiceChannel) {
  rebeeel.delete();
}
  }, 1700);
});
});
});

//-----------------------------------------------------------------------------------------------------//
                                                  //ÙƒÙˆØ¯ Ø±ÙŠÙ† Ø¨Ùˆ//
//-----------------------------------------------------------------------------------------------------//

client.on('ready', async () => {
    let rSpeed = 4; 
    let rGuild = '495229433183993878'; // Ø§ÙŠ Ø¯ÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ± 
    let rRole = '496017111567826945'; // Ø§ÙŠ Ø¯ÙŠ Ø§Ù„Ø±ØªØ¨Ø© ØªØ¬ÙŠØ¨Ù‡ Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø§Ù†Ùƒ ØªÙØ¹Ù„ Ø®Ø§ØµÙŠØ© Ø§Ù† Ø§ÙŠ ÙˆØ§Ø­Ø¯ ÙŠÙ‚Ø¯Ø± ÙŠÙ…Ù†Ø´Ù† Ø§Ù„Ø±ØªØ¨Ø© Ùˆ ØªÙ…Ù†Ø´Ù† Ø§Ù„Ø±ØªØ¨Ø© Ø¨Ø§Ù„Ø´Ø§Øª ÙˆÙ‚Ø¨Ù„ Ù…Ø§ ØªÙ…Ù†Ø´Ù†Ù‡Ø§ Ø­Ø· \
    /* Ù…Ø«Ø§Ù„ :
    \@TestingRole
    Ø§Ù„Ù†Ø§ØªØ¬ :
    <@&12345678987654321>
    */
    let rActive = true; /*
    Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø±ÙŠÙ†Ø¨Ùˆ Ø­Ø·Ù‡Ø§ : true
    Ù„Ø£Ù„ØºØ§Ø¡ Ø§Ù„Ø±ÙŠÙ†Ø¨Ùˆ Ø­Ø·Ù‡Ø§ : false
    */
  rainbow(rSpeed, rGuild, rRole, rActive);
  function rainbow(speed, guildid, roleid, enabled) {
    if(enabled !== true && enabled !== false) throw new Error("SyntaxError: Rainbow enabled state must be true or false.");
    if(enabled === false) return;
    let guild = client.guilds.get(guildid);
    let role = guild.roles.get(roleid);
    let changeSpeed = speed * 1000;

    setInterval(() => {
      role.edit({
        color: 'RANDOM'
      });
    }, changeSpeed);
  }
});

//-----------------------------------------------------------------------------------------------------//
                                                  //ÙƒÙˆØ¯ Ø§Ù„Ø§Ù„ÙˆØ§Ù†//
//-----------------------------------------------------------------------------------------------------//

client.on('message', message => {
          let args = message.content.split(' ').slice(1);
   if(message.content.split(' ')[0] == prefix + 'color'){
           const embedd = new Discord.RichEmbed()
     .setFooter('Requested by '+message.author.username, message.author.avatarURL)
   .setDescription(`**Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù„ÙˆÙ† Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ù… ** :x: `)
   .setColor(`ff0000`)

    if(!isNaN(args) && args.length > 0)
    

if    (!(message.guild.roles.find("name",`${args}`))) return  message.channel.sendEmbed(embedd);


       var a = message.guild.roles.find("name",`${args}`)
                if(!a)return;
const embed = new Discord.RichEmbed()
                    
     .setFooter('Requested by '+message.author.username, message.author.avatarURL)
   .setDescription(`**Done , ØªÙ… ØªØºÙŠØ± Ù„ÙˆÙ†Ùƒ . :white_check_mark: **`)
 
   .setColor(`${a.hexColor}`)
  message.channel.sendEmbed(embed);
          if (!args)return;
setInterval(function(){})
                  let count = 0;
                  let ecount = 0;
        for(let x = 1; x < 201; x++){
           
            message.member.removeRole(message.guild.roles.find("name",`${x}`))
          
            }
                message.member.addRole(message.guild.roles.find("name",`${args}`));
        
            
    }
});
/*
client.on('message', ra3d => {
  
  if (ra3d.content ===  prefix + 'cc'){
              if (!ra3d.member.hasPermission('MANAGE_ROLES')) return ra3d.channel.sendMessage('`**âš  | `[MANAGE_ROLES]` Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ©**'); 
              ra3d.channel.send("**âœ… | ÙŠØªÙ… Ø¹Ù…Ù„ Ø§Ù„Ø§Ù„ÙˆØ§Ù†**");
                  setInterval(function(){})
                    let count = 0;
                    let ecount = 0;
          for(let x = 1; x < 141; x++){
            ra3d.guild.createRole({name:x,
              color: 'RANDOM'})
              }
            }
       });
*/

//-----------------------------------------------------------------------------------------------------//
                                      //ÙƒÙˆØ¯ Ø§Ø°Ø§ Ø§Ø­Ø¯ Ù†Ø´Ø± ÙŠØ¹Ø·Ø³Ù‡ Ù…ÙŠÙˆØª//
//-----------------------------------------------------------------------------------------------------//

  client.on('message', async message => {
            if(message.content.includes('discord.gg')){ 
                if(message.member.hasPermission("MANAGE_GUILD")) return;
        if(!message.channel.guild) return;
        message.delete()
          var command = message.content.split(" ")[0];
    let muterole = message.guild.roles.find(`name`, "Muted");
    if(!muterole){
      try{
        muterole = await message.guild.createRole({
          name: "Muted",
          color: "#000000",
          permissions:[]
        })
        message.guild.channels.forEach(async (channel, id) => {
          await channel.overwritePermissions(muterole, {
            SEND_MESSAGES: false,
            ADD_REACTIONS: false,
            CONNECTED: true,
            SPEAK: false
          });
        });
      }catch(e){
        console.log(e.stack);
      }
    }
           if(!message.channel.guild) return message.reply('** This command only for servers**');
     message.member.addRole(muterole);
    const embed500 = new Discord.RichEmbed()
      .setTitle("Muted Ads")
            .addField(`**  You Have Been Muted **` , `**Reason : Sharing Another Discord Link**`)
            .setColor("c91616")
            .setThumbnail(`${message.author.avatarURL}`)
            .setAuthor(message.author.username, message.author.avatarURL)
        .setFooter(`${message.guild.name} `)
     message.channel.send(embed500)
     message.author.send('` Ø§Ù†Øª Ù…Ø¹Ø§Ù‚Ø¨ Ù…ÙŠÙˆØª Ø´Ø§ØªÙŠ Ø¨Ø³Ø¨Ø¨ Ù†Ø´Ø± Ø³Ø±ÙØ±Ø§Øª Ø§Ù† ÙƒØ§Ù† Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø§Ù„Ø®Ø·Ø§ **Ù** ØªÙƒÙ„Ù… Ù…Ø¹ Ø§Ù„Ø§Ø¯Ø§Ø±Ø© `');
   
       
    }
})

//-----------------------------------------------------------------------------------------------------//
                                            //ÙƒÙˆØ¯ Ù…ÙŠÙˆØª Ù…Ø¹ Ø§Ù„ÙˆÙ‚Øª//
//-----------------------------------------------------------------------------------------------------//

client.on('message',function(message) {
    let messageArray = message.content.split(' ');
    let muteRole = message.guild.roles.get('496759458119024640') || message.guild.roles.find('name', 'Muted');
    let muteMember = message.mentions.members.first();
    let muteReason = messageArray[2];
    let muteDuration = messageArray[3];
   if(message.content.startsWith(prefix + "mute")) {
       if(!muteRole) return message.guild.createRole({name: 'Muted'}).then(message.guild.channels.forEach(chan => chan.overwritePermissions(muteRole, {SEND_MESSAGES:false,ADD_REACTIONS:false})));
       if(!message.guild.member(message.author).hasPermission("MANAGE_ROLES")) return message.channel.send('â„¹ **Error:** ``Ø®ØµØ§Ø¦Øµ Ù…ÙÙ‚ÙˆØ¯Ø©``');
       if(!message.guild.member(client.user).hasPermission("MANAGE_ROLES")) return message.channel.send('â„¹ **Error:** ``Ø®ØµØ§Ø¦Øµ Ù…ÙÙ‚ÙˆØ¯Ø© Ù…Ù†ÙŠ``');
       if(!muteMember) return message.channel.send('â„¹ **Error:** ``Ù…Ù†Ø´Ù† Ø´Ø®Øµ``');
       if(!muteReason) return message.channel.send('â„¹ **Error:** ``Ø­Ø¯Ø¯ Ø³Ø¨Ø§Ù‘``');
       if(!muteDuration) return message.channel.send('â„¹ **Error:** ``Ø­Ø¯Ø¯ ÙˆÙ‚Øª Ø²Ù…Ù†ÙŠ``');
       if(!muteDuration.match(/[1-7][s,m,h,d,w]/g)) return message.channel.send('â„¹ **Error:** ``Ø­Ø¯Ø¯ ÙˆÙ‚Øª Ø²Ù…Ù†ÙŠ ØµØ­ÙŠØ­``');
       message.channel.send(`:white_check_mark: **ØªÙ… Ø§Ø¹Ø·Ø§Ø¡ Ø§Ù„Ø¹Ø¶Ùˆ Ù…ÙŠÙˆØª : ${muteMember}**`);
       muteMember.addRole(muteRole);
       muteMember.setMute(true)
       .then(() => { setTimeout(() => {
           muteMember.removeRole(muteRole)
           muteMember.setMute(false)
       }, mmss(muteDuration));
       });
   } 
});
//-----------------------------------------------------------------------------------------------------//
//ÙƒÙˆØ¯ Ù„Ùˆ Ù…Ø¹Ø§Ùƒ Ø±ØªØ¨Ø© ÙˆØ·Ù„Ø¹Øª Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ± ÙˆØ¯Ø®Ù„Øª Ø§Ù„Ø±ØªØ¨Ø© Ø¨ØªØ±Ø¬Ø¹ ØªØ§Ù†ÙŠ Ø³ÙˆØ§Ø¡ ÙƒØ§Ù†Øª Ø±ØªØ¨Ø© Ø§Ø¯Ø§Ø±ÙŠØ© Ø§Ùˆ Ø­ØªÙŠ ÙƒØ§Ù†Øª Ø±ØªØ¨Ø© Ù…ÙŠÙˆØª//
//-----------------------------------------------------------------------------------------------------//

var KinG66S = {};
client.on('guildMemberRemove', member => {
KinG66S[member.id] = {roles: member.roles.array()};
});

client.on('guildMemberAdd', member => {
if(!KinG66S[member.user.id]) return;
console.log(KinG66S[member.user.id].roles.length);
for(let i = 0; i < KinG66S[member.user.id].roles.length + 1; i++) {
member.addRole(KinG66S[member.user.id].roles.shift());
}
});

	
	
client.login(process.env.BOT_TOKEN); 
